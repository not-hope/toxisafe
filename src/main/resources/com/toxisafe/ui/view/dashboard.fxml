<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<?import javafx.geometry.Insets?>
<BorderPane xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.toxisafe.ui.controller.DashboardController"
            prefWidth="920" prefHeight="640"
            stylesheets="@/com/toxisafe/ui/css/clean-theme.css">
    <padding><Insets top="10" right="10" bottom="10" left="10"/></padding>

    <!-- Top bar -->
    <top>
        <HBox spacing="10" BorderPane.alignment="CENTER_LEFT">
            <padding>
                <Insets top="10" right="10" bottom="10" left="10"/>
            </padding>
            <Label text="Inicio" style="-fx-font-size: 18px; -fx-font-weight: bold;"/>
            <Region HBox.hgrow="ALWAYS"/>
        </HBox>
    </top>

    <!-- Contenido principal -->
    <center>
        <VBox spacing="16"
              VBox.vgrow="ALWAYS">
            <padding><Insets top="10" right="10" bottom="10" left="10"/></padding>

            <!-- Tarjetas -->
            <GridPane hgap="16" vgap="16">
                <columnConstraints>
                    <ColumnConstraints percentWidth="25"/>
                    <ColumnConstraints percentWidth="25"/>
                    <ColumnConstraints percentWidth="25"/>
                    <ColumnConstraints percentWidth="25"/>
                </columnConstraints>

                <StackPane GridPane.columnIndex="0" GridPane.rowIndex="0" styleClass="card">
                    <VBox spacing="4" alignment="CENTER_LEFT" style="-fx-padding:16;">
                        <Label text="Brotes asignados (ACTIVOS)" styleClass="title-label"/>
                        <Label fx:id="lblAsignadosActivos" styleClass="data-number"/>
                        <Label text="Brotes en los que estás asignad@ y están activos" styleClass="subtext"/>
                    </VBox>
                </StackPane>

                <StackPane GridPane.columnIndex="1" GridPane.rowIndex="0" styleClass="card">
                    <VBox spacing="4" alignment="CENTER_LEFT" style="-fx-padding:16;">
                        <Label text="Brotes asignados (CERRADOS)" styleClass="title-label"/>
                        <Label fx:id="lblAsignadosCerrados" styleClass="data-number"/>
                        <Label text="Brotes asignados cerrados" styleClass="subtext"/>
                    </VBox>
                </StackPane>

                <StackPane GridPane.columnIndex="2" GridPane.rowIndex="0" fx:id="cardCreados" styleClass="card">
                    <VBox spacing="4" alignment="CENTER_LEFT" style="-fx-padding:16;">
                        <Label text="Brotes creados por ti" styleClass="title-label"/>
                        <Label fx:id="lblCreados" styleClass="data-number"/>
                        <Label text="Solo visible para ADMIN/EPI/MIR" styleClass="subtext"/>
                    </VBox>
                </StackPane>

                <StackPane GridPane.columnIndex="3" GridPane.rowIndex="0" fx:id="cardResponsable" styleClass="card">
                    <VBox spacing="4" alignment="CENTER_LEFT" style="-fx-padding:16;">
                        <Label text="Brotes donde eres responsable" styleClass="title-label"/>
                        <Label fx:id="lblResponsable" styleClass="data-number"/>
                        <Label text="Solo visible para ADMIN/EPI/MIR" styleClass="subtext"/>
                    </VBox>
                </StackPane>
            </GridPane>

            <!-- Detalle -->
            <VBox spacing="8" VBox.vgrow="ALWAYS">
                <Label text="Tus brotes asignados (detalle)" styleClass="title-label"/>
                <TableView fx:id="tblAsignados" VBox.vgrow="ALWAYS" styleClass="table-elevated">
                    <columns>
                        <TableColumn fx:id="colNombre" text="Brote" prefWidth="240"/>
                        <TableColumn fx:id="colFechaIni" text="Fecha de inicio" prefWidth="160"/>
                        <TableColumn fx:id="colCreador" text="Creador" prefWidth="230"/>
                        <TableColumn fx:id="colResponsable" text="Responsable" prefWidth="230"/>
                        <TableColumn fx:id="colEstado" text="Estado" prefWidth="120"/>
                        <TableColumn fx:id="colExpuestos" text="Nº Expuestos" prefWidth="200"/>
                    </columns>
                </TableView>
            </VBox>

        </VBox>
    </center>
</BorderPane>
